import{k as A,R as X,D as Y,_ as N,h as z,l as Z,r as ee,a as te,f as ae}from"./index.7142b2f1.js";import{F as oe}from"./index.c8a3917d.js";import{d as R,c as p,aF as L,B as _,aD as h,aH as i,aI as o,u as l,F as f,D as O,aN as ne,bM as se,bJ as le,bG as ie,b9 as K,ba as W,e as $,w as J,bN as ue,bO as re,C as F,aK as ce,aJ as de,o as j,bP as pe,b as _e,bQ as U,bR as fe,bS as me,aX as he,bT as ve,aE as B,bK as be,bL as ge,E as V,bU as ye,bV as xe,p as De}from"./arco.48f7a1aa.js";import{f as q,h as G,l as Le}from"./vue.c3d4857c.js";import{N as Ee,M as H}from"./index.0e9af036.js";/* empty css                *//* empty css              */import"./chart.fdf0edf8.js";/* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                */import"./loading.909ea8f9.js";/* empty css               *//* empty css              *//* empty css               */const C=t=>(K("data-v-17257cfa"),t=t(),W(),t),we={class:"tag-link"},Ce=C(()=>f("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),Se=C(()=>f("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),ke=C(()=>f("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),Be=C(()=>f("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),Te=C(()=>f("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),Re=C(()=>f("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),Ie=R({__name:"tab-item",props:{itemData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(t){const a=t,e=q(),s=G(),u=A(),g=r=>{e.push({...r})},d=p(()=>u.getTabList),v=p(()=>a.itemData.fullPath!==s.fullPath),y=p(()=>a.index===0),x=p(()=>[0,1].includes(a.index)),D=p(()=>a.index===d.value.length-1),T=(r,c)=>{if(u.deleteTag(c,r),a.itemData.fullPath===s.fullPath){const m=d.value[c-1];e.push({name:m.name})}},S=()=>d.value.findIndex(r=>r.fullPath===s.fullPath),I=async r=>{const{itemData:c,index:m}=a,b=[...d.value];if(r==="current")T(c,m);else if(r==="left"){const n=S();b.splice(1,a.index-1),u.freshTabList(b),n<m&&e.push({name:c.name})}else if(r==="right"){const n=S();b.splice(a.index+1),u.freshTabList(b),n>m&&e.push({name:c.name})}else if(r==="others"){const n=d.value.filter((k,E)=>E===0||E===a.index);u.freshTabList(n),e.push({name:c.name})}else r==="reload"?(u.deleteCache(c),await e.push({name:X,params:{path:s.fullPath}}),u.addCache(c.name)):(u.resetTabList(),e.push({name:Y}))};return(r,c)=>{const m=L("icon-close"),b=L("icon-refresh"),n=le,k=L("icon-to-left"),E=L("icon-to-right"),M=L("icon-swap"),P=L("icon-folder-delete"),w=ie;return _(),h(w,{trigger:"contextMenu","popup-max-height":!1,onSelect:I},{content:i(()=>[o(n,{disabled:l(v),value:"reload"},{default:i(()=>[o(b),Ce]),_:1},8,["disabled","value"]),o(n,{class:"sperate-line",disabled:l(y),value:"current"},{default:i(()=>[o(m),Se]),_:1},8,["disabled","value"]),o(n,{disabled:l(x),value:"left"},{default:i(()=>[o(k),ke]),_:1},8,["disabled","value"]),o(n,{class:"sperate-line",disabled:l(D),value:"right"},{default:i(()=>[o(E),Be]),_:1},8,["disabled","value"]),o(n,{value:"others"},{default:i(()=>[o(M),Te]),_:1},8,["value"]),o(n,{value:"all"},{default:i(()=>[o(P),Re]),_:1},8,["value"])]),default:i(()=>[f("span",{class:O(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":t.itemData.fullPath===r.$route.fullPath}]),onClick:c[1]||(c[1]=Q=>g(t.itemData))},[f("span",we,ne(r.$t(t.itemData.title)),1),f("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:c[0]||(c[0]=se(Q=>T(t.itemData,t.index),["stop"]))},[o(m)])],2)]),_:1})}}});const Me=N(Ie,[["__scopeId","data-v-17257cfa"]]),Pe=t=>(K("data-v-509db106"),t=t(),W(),t),$e={class:"tab-bar-container"},Fe={class:"tab-bar-box"},Ae={class:"tab-bar-scroll"},Ne={class:"tags-wrap"},ze=Pe(()=>f("div",{class:"tag-bar-operation"},null,-1)),Ue=R({__name:"index",setup(t){const a=z(),e=A(),s=$(),u=p(()=>e.getTabList),g=p(()=>a.navbar?60:0);return J(()=>a.navbar,()=>{s.value.updatePosition()}),Z(d=>{!d.meta.noAffix&&!u.value.some(v=>v.fullPath===d.fullPath)&&e.updateTabList(d)},!0),ue(()=>{ee()}),(d,v)=>{const y=re;return _(),F("div",$e,[o(y,{ref_key:"affixRef",ref:s,"offset-top":l(g)},{default:i(()=>[f("div",Fe,[f("div",Ae,[f("div",Ne,[(_(!0),F(ce,null,de(l(u),(x,D)=>(_(),h(Me,{key:x.fullPath,index:D,"item-data":x},null,8,["index","item-data"]))),128))])]),ze])]),_:1},8,["offset-top"])])}}});const Ve=N(Ue,[["__scopeId","data-v-509db106"]]);function He(t,a,e,s=!1){t.addEventListener&&typeof t.addEventListener=="function"&&t.addEventListener(a,e,s)}function Oe(t,a,e,s=!1){t.removeEventListener&&typeof t.removeEventListener=="function"&&t.removeEventListener(a,e,s)}const Ke=992;function We(){return document.body.getBoundingClientRect().width-1<Ke}function Je(t){const a=z();function e(){if(!document.hidden){const u=We();a.toggleDevice(u?"mobile":"desktop"),a.toggleMenu(u)}}const s=Le(e,100);j(()=>{t&&s()}),pe(()=>{He(window,"resize",s)}),_e(()=>{Oe(window,"resize",s)})}const je=R({__name:"page-layout",setup(t){const a=A(),e=p(()=>a.getCacheList);return(s,u)=>{const g=L("router-view");return _(),h(g,null,{default:i(({Component:d,route:v})=>[o(me,{name:"fade",mode:"out-in",appear:""},{default:i(()=>[v.meta.ignoreCache?(_(),h(U(d),{key:v.fullPath})):(_(),h(fe,{key:1,include:l(e)},[(_(),h(U(d),{key:v.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})}}}),qe={key:0,class:"layout-navbar"},Ge={class:"menu-wrapper"},Qe=R({__name:"default-layout",setup(t){const a=$(!1),e=z(),s=te(),u=q(),g=G(),d=ae();Je(!0);const v="60px",y=p(()=>e.navbar),x=p(()=>e.menu&&!e.topMenu),D=p(()=>e.hideMenu),T=p(()=>e.footer),S=p(()=>e.menuCollapse?48:e.menuWidth),I=p(()=>e.menuCollapse),r=p(()=>{const n=x.value&&!D.value?{paddingLeft:`${S.value}px`}:{},k=y.value?{paddingTop:v}:{};return{...n,...k}}),c=n=>{!a.value||e.updateSettings({menuCollapse:n})};J(()=>s.role,n=>{n&&!d.accessRouter(g)&&u.push({name:"notFound"})});const m=$(!1),b=()=>{m.value=!1};return De("toggleDrawerMenu",()=>{m.value=!m.value}),j(()=>{a.value=!0}),(n,k)=>{const E=ye,M=he,P=xe,w=ve;return _(),h(w,{class:O(["layout",{mobile:l(e).hideMenu}])},{default:i(()=>[l(y)?(_(),F("div",qe,[o(Ee)])):B("",!0),o(w,null,{default:i(()=>[o(w,null,{default:i(()=>[l(x)?be((_(),h(E,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:l(I),collapsible:!0,width:l(S),style:V({paddingTop:l(y)?"60px":""}),"hide-trigger":!0,onCollapse:c},{default:i(()=>[f("div",Ge,[o(H)])]),_:1},8,["collapsed","width","style"])),[[ge,!l(D)]]):B("",!0),l(D)?(_(),h(M,{key:1,visible:m.value,placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:b},{default:i(()=>[o(H)]),_:1},8,["visible"])):B("",!0),o(w,{class:"layout-content",style:V(l(r))},{default:i(()=>[l(e).tabBar?(_(),h(Ve,{key:0})):B("",!0),o(P,null,{default:i(()=>[o(je)]),_:1}),l(T)?(_(),h(oe,{key:1})):B("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["class"])}}});const ht=N(Qe,[["__scopeId","data-v-1f8c6237"]]);export{ht as default};
